{"version":3,"file":"bundle.js","sources":["useData.js","AxisBottom.js","AxisLeft.js","Marks.js","index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { csv } from 'd3';\n\nconst csvUrl =\n  'https://gist.githubusercontent.com/curran/0ac4077c7fc6390f5dd33bf5c06cb5ff/raw/605c54080c7a93a417a3cea93fd52e7550e76500/UN_Population_2019.csv';\n\nexport const useData = () => {\n  const [data, setData] = useState(null);\n\n  useEffect(() => {\n    const row = d => {\n      d.Population = +d['2020'] * 1000;\n      return d;\n    };\n    csv(csvUrl, row).then(data => {\n      setData(data.slice(0, 10));\n    });\n  }, []);\n  \n  return data;\n};","export const AxisBottom = ({ xScale, innerHeight, tickFormat }) =>\n  xScale.ticks().map(tickValue => (\n    <g className=\"tick\" key={tickValue} transform={`translate(${xScale(tickValue)},0)`}>\n      <line y2={innerHeight} />\n      <text style={{ textAnchor: 'middle' }} dy=\".71em\" y={innerHeight + 3}>\n        {tickFormat(tickValue)}\n      </text>\n    </g>\n  ));","export const AxisLeft = ({ yScale }) =>\n  yScale.domain().map(tickValue => (\n    <g className=\"tick\">\n      <text\n        key={tickValue}\n        style={{ textAnchor: 'end' }}\n        x={-3}\n        dy=\".32em\"\n        y={yScale(tickValue) + yScale.bandwidth() / 2}\n      >\n        {tickValue}\n      </text>\n    </g>\n  ));\n","export const Marks = ({\n  data,\n  xScale,\n  yScale,\n  xValue,\n  yValue,\n  tooltipFormat\n}) =>\n  data.map(d => (\n    <rect\n      className=\"mark\"\n      key={yValue(d)}\n      x={0}\n      y={yScale(yValue(d))}\n      width={xScale(xValue(d))}\n      height={yScale.bandwidth()}\n    >\n      <title>{tooltipFormat(xValue(d))}</title>\n    </rect>\n  ));\n","import React, { useState, useCallback, useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport { csv, arc, pie, scaleBand, scaleLinear, max, format } from 'd3';\nimport { useData } from './useData';\nimport { AxisBottom } from './AxisBottom';\nimport { AxisLeft } from './AxisLeft';\nimport { Marks } from './Marks';\n\nconst width = 960;\nconst height = 500;\nconst margin = { top: 20, right: 30, bottom: 65, left: 220 };\nconst xAxisLabelOffset = 50;\n\nconst App = () => {\n  const data = useData();\n\n  if (!data) {\n    return <pre>Loading...</pre>;\n  }\n\n  const innerHeight = height - margin.top - margin.bottom;\n  const innerWidth = width - margin.left - margin.right;\n\n  const yValue = d => d.Country;\n  const xValue = d => d.Population;\n\n  const siFormat = format('.2s');\n  const xAxisTickFormat = tickValue => siFormat(tickValue).replace('G', 'B');\n\n  const yScale = scaleBand()\n    .domain(data.map(yValue))\n    .range([0, innerHeight])\n    .paddingInner(0.15);\n\n  const xScale = scaleLinear()\n    .domain([0, max(data, xValue)])\n    .range([0, innerWidth]);\n\n  return (\n    <svg width={width} height={height}>\n      <g transform={`translate(${margin.left},${margin.top})`}>\n        <AxisBottom\n          xScale={xScale}\n          innerHeight={innerHeight}\n          tickFormat={xAxisTickFormat}\n        />\n        <AxisLeft yScale={yScale} />\n        <text\n          className=\"axis-label\"\n          x={innerWidth / 2}\n          y={innerHeight + xAxisLabelOffset}\n          textAnchor=\"middle\"\n        >\n          Population\n        </text>\n        <Marks\n          data={data}\n          xScale={xScale}\n          yScale={yScale}\n          xValue={xValue}\n          yValue={yValue}\n          tooltipFormat={xAxisTickFormat}\n        />\n      </g>\n    </svg>\n  );\n};\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"],"names":["const","useState","useEffect","csv","React","format","scaleBand","scaleLinear","max"],"mappings":"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"}